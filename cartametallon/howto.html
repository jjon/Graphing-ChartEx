<div id="howto">
<h1 style='text-align: center'>CARTAMETALLON (charter mine)</h1>
<p>This web application now serves two functions. It continues to function as it did in July of 2013: visualizations and domain expert feedback as described in part II below. It now also provides visualizations of RDF graphs generated directly from charter texts marked up in BRAT's <a class='alink' style="color: rgb(200, 206, 171)" href="http://2011.bionlp-st.org/">BioNLP Shared Task 2011</a> data format and is described in part I below.</p>


<h2>I. RDF graphs from BRAT annotation files (.ann)</h2>
<dl>
<dt>Document List</dt>
<dd>Any text in our BRAT installation will appear in this list. Clicking on any charter will generate a graph. The graph so generated is an SVG representation of an RDF graph derived from the entities and relations marked up with the BRAT tool. Once a document has been selected and visualized, the <span style="color: rgb(200, 206, 171)">see the markup in brat</span> link will bring up the charter in the BRAT interface in another window. In this way, the user can get real-time feedback, an alternate visualization of the contents of the charter, while marking up charters with the BRAT tool.</dd>
<dt>Planned functionality</dt>
<dd>The aim ultimately is to provide the user these additional functions:
    <ul>
        <li>an interface to edit and annotate the RDF graph of the charter data directly.</li>
        <li>manually create relations between documents, and sameAs or other links between entities in different documents.</li>
        <li>an interface to upload these edited and annotated graphs to our ADS triple store.</li>
        <li>A SPARQL interface to allow queries of the triple store.</li>
    </ul>
    
    <p>Diplomatists and Historians may wish to mark up digital source material for a variety of reasons (eg. training data for NLP analysis as in the ChartEx project), but the process will always generate intermediate data that can be very valuable in other contexts. This is an experiment to try and capture that data and make it accessible within the Linked Open Data framework so that that valuable work is not locked up within data silos like web-pages or relational databases.</p>
</dd>


<dl>

<h2>II. RDF graphs from Biomine (.bmg) input</h2>
<dl>
<dt>Domain expert feedback on data mining confidence factors</dt>

<dd>The data output from Leiden's Data Mining efforts contains all the data that we've marked up in charters with the addition of <code>might_be</code> assertions about some of the entities in those charters, and a confidence metric for each such assertion. These assert that, for example, the Henry le Furbur who appears in vicars-choral-399, <code>might_be</code> the same Henry le Furbur who appears in vicars-choral-400 with a 0.9748 degree of certainty. This web application allows users to browse the charter markup data derived from the DM output and stored on the ADS AllegroGraph triple store as RDF triples. In addition, users can browse these <code>might_be</code> assertions, compare the charter texts they are based on, annotate the confidence metrics, and store those annotations on the ADS server as feedback for Leiden's DM systems.</dd>

<dd>The beautiful and dynamic graphs drawn by the biomine tool can be very useful for visualizing the aggregate of the DM data, but historians tend to be very document-centric. This browser is similarly document-centric.</dd>

<!-- <dd><span style="font-size: 120%; color: #ff9500">UPDATE: Nota Bene</span> (2014-02-19) ADS has updated their AG store and this webapp has been repaired accordingly. It continues to function as it did in July 2013. I'm continuing to develop the CARTAMETALLON but newer developments are against a local instance of AllegroGraph running in a virtual machine. Ongoing developments will continue to be reflected in the <a href="https://github.com/jjon/Graphing-ChartEx">git repository</a>. Comments and/or contributions continue to be welcome.</dd> -->

<dt>The Home Document:</dt>

<dd>When the page is first loaded, a list of the available documents will appear in the <code>document list</code>. (Currently, these are drawn from the brat installation in the VCGoodramgate, VCPetergate, and vicars-choral corpora). Clicking on one of these filenames will, after a moment, generate a graph of the data therein. This is a familiar directed graph of the data that we marked up in the charters.</dd>

<dd>Additionally, the text of the document in question will appear in the home document text box. This box may be hidden/shown by clicking on <code>text for this document</code>. The home document text box can be resized or scrolled to see the full content.</dd>

<dd>Certain of the nodes of this graph may be marked as empty ellipses rather than filled ones. These indicate that in addition to the basic entity data, there are <code>might_be</code> assertions associated with these entities. Clicking on any of the nodes in this graph will call up the entity data that we included in our brat markup, along with <code>might_be</code> relations if there are any for that node. Also, clicking on a node will highlight the places in the home document text box where that entity appears.</dd>

<dt>Entity Data Box:</dt>

<dd>The table at the top of the Entity Data Box contains the basic data for the entity and the relations it participates in within the home document. If the entity has <code>might_be</code> relations to entities in other documents, these will be displayed in the Confidence Data Table below.</dd>

<dd>The confidence data table has 4 columns: the first is the entity id as defined by the DM system, the second is the DM system's "short name" for that entity, the third is the document id where that entity appears, and the last is the confidence metric, expressed as a number between 0 and 1.</dd>

<dt>External Document Boxes:</dt>

<dd>The document ids in col. 3 of the entity data box are links. Clicking on any of these links will retrieve the text of that document and display it below the text of the home document. In these text boxes, the entity in question will be highlighted in the text. You can open as many of these boxes as you like. They are all, resizeable, scrollable, and you can drag them to any place on the page that is convenient for comparison with the home document. The external document boxes may be dismissed one at a time, or they will all go away when you click a new node in the directed graph, or if you choose a new document to graph.</dd>

<dt>Confidence Metric Annotation:</dt>

<dd>Column 4 of the confidence data table is the confidence metric. Clicking on the button next to this number will bring up the Annotation Dialog. This dialog will allow you to choose a username, revise the confidence metric up or down, and supply a comment on your decision.</dd>

<dd>In the example of Henry le Furbur in vc399: if you find sufficient warrant for the assertion that the Henry le Furbur who appears in vicars-choral-399, <code>might_be</code> the same Henry le Furbur who appears in vicars-choral-400 with a 0.9748 degree of certainty, you can revise the confidence metric to 1.0. If you find that there is no warrant for that assertion, you can revise the confidence metric to 0.0. And in the comment text box you can record any notes about your evaluation.</dd>

<dd>This annotation will not change Leiden's DM data, it merely annotates it. The annotation will be stored on The ADS triple store associated with a username of your choosing (ascii, lowercase, no spaces). Leiden can then retrieve all of the annotations on their confidence data as feedback data for further processing.</dd>

</dl>

</div>